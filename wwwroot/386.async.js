!(function(){"use strict";var X=Object.defineProperty;var U=Object.getOwnPropertySymbols;var Z=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var j=(b,r,s)=>r in b?X(b,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):b[r]=s,A=(b,r)=>{for(var s in r||(r={}))Z.call(r,s)&&j(b,s,r[s]);if(U)for(var s of U(r))q.call(r,s)&&j(b,s,r[s]);return b};var z=(b,r,s)=>new Promise((m,u)=>{var L=p=>{try{M(s.next(p))}catch(k){u(k)}},e=p=>{try{M(s.throw(p))}catch(k){u(k)}},M=p=>p.done?m(p.value):Promise.resolve(p.value).then(L,e);M((s=s.apply(b,r)).next())});(self.webpackChunk=self.webpackChunk||[]).push([[386],{39386:function(b,r,s){s.r(r),s.d(r,{diagram:function(){return Q}});var m=s(72970),u=s(31539),L=s(45625),e=s(81650),M=s(62335),p=s(19421),k=s(17967),tt=s(27856),et=s(42494),lt=s(39354);const w=a=>e.e.sanitizeText(a,(0,e.c)());let P={dividerMargin:10,padding:5,textHeight:10,curve:void 0};const Y=function(a,n,v,c){const t=Object.keys(a);e.l.info("keys:",t),e.l.info(a),t.forEach(function(d){var _;var o,y;const l=a[d],f={shape:"rect",id:l.id,domId:l.domId,labelText:w(l.id),labelStyle:"",style:"fill: none; stroke: black",padding:(_=(o=(0,e.c)().flowchart)==null?void 0:o.padding)!=null?_:(y=(0,e.c)().class)==null?void 0:y.padding};n.setNode(l.id,f),I(l.classes,n,v,c,l.id),e.l.info("setNode",f)})},I=function(a,n,v,c,t){const d=Object.keys(a);e.l.info("keys:",d),e.l.info(a),d.forEach(function(o){var D,E;var y,l;const i=a[o];let f="";i.cssClasses.length>0&&(f=f+" "+i.cssClasses.join(" "));const _={labelStyle:"",style:""},T=(D=i.label)!=null?D:i.id,h=0,x="class_box",g={labelStyle:_.labelStyle,shape:x,labelText:w(T),classData:i,rx:h,ry:h,class:f,style:_.style,id:i.id,domId:i.domId,tooltip:c.db.getTooltip(i.id,t)||"",haveCallback:i.haveCallback,link:i.link,width:i.type==="group"?500:void 0,type:i.type,padding:(E=(y=(0,e.c)().flowchart)==null?void 0:y.padding)!=null?E:(l=(0,e.c)().class)==null?void 0:l.padding};n.setNode(i.id,g),t&&n.setParent(i.id,t),e.l.info("setNode",g)})},$=function(a,n,v,c){e.l.info(a),a.forEach(function(t,d){var E;var o,y;const l=t,i="",f={labelStyle:"",style:""},_=l.text,T=0,h="note",x={labelStyle:f.labelStyle,shape:h,labelText:w(_),noteData:l,rx:T,ry:T,class:i,style:f.style,id:l.id,domId:l.id,tooltip:"",type:"note",padding:(E=(o=(0,e.c)().flowchart)==null?void 0:o.padding)!=null?E:(y=(0,e.c)().class)==null?void 0:y.padding};if(n.setNode(l.id,x),e.l.info("setNode",x),!l.class||!(l.class in c))return;const g=v+d,D={id:`edgeNote${g}`,classes:"relation",pattern:"dotted",arrowhead:"none",startLabelRight:"",endLabelLeft:"",arrowTypeStart:"none",arrowTypeEnd:"none",style:"fill:none",labelStyle:"",curve:(0,e.o)(P.curve,u.c_6)};n.setEdge(l.id,l.class,D,g)})},G=function(a,n){const v=(0,e.c)().flowchart;let c=0;a.forEach(function(t){var y;var d;c++;const o={classes:"relation",pattern:t.relation.lineType==1?"dashed":"solid",id:"id"+c,arrowhead:t.type==="arrow_open"?"none":"normal",startLabelRight:t.relationTitle1==="none"?"":t.relationTitle1,endLabelLeft:t.relationTitle2==="none"?"":t.relationTitle2,arrowTypeStart:O(t.relation.type1),arrowTypeEnd:O(t.relation.type2),style:"fill:none",labelStyle:"",curve:(0,e.o)(v==null?void 0:v.curve,u.c_6)};if(e.l.info(o,t),t.style!==void 0){const l=(0,e.k)(t.style);o.style=l.style,o.labelStyle=l.labelStyle}t.text=t.title,t.text===void 0?t.style!==void 0&&(o.arrowheadStyle="fill: #333"):(o.arrowheadStyle="fill: #333",o.labelpos="c",((y=(d=(0,e.c)().flowchart)==null?void 0:d.htmlLabels)!=null?y:(0,e.c)().htmlLabels)?(o.labelType="html",o.label='<span class="edgeLabel">'+t.text+"</span>"):(o.labelType="text",o.label=t.text.replace(e.e.lineBreakRegex,`
`),t.style===void 0&&(o.style=o.style||"stroke: #333; stroke-width: 1.5px;fill:none"),o.labelStyle=o.labelStyle.replace("color:","fill:"))),n.setEdge(t.id1,t.id2,o,c)})},H=function(a){P=A(A({},P),a)},F=function(a,n,v,c){return z(this,null,function*(){var E,R,B,N;e.l.info("Drawing class - ",n);const t=(E=(0,e.c)().flowchart)!=null?E:(0,e.c)().class,d=(0,e.c)().securityLevel;e.l.info("config:",t);const o=(R=t==null?void 0:t.nodeSpacing)!=null?R:50,y=(B=t==null?void 0:t.rankSpacing)!=null?B:50,l=new L.k({multigraph:!0,compound:!0}).setGraph({rankdir:c.db.getDirection(),nodesep:o,ranksep:y,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),i=c.db.getNamespaces(),f=c.db.getClasses(),_=c.db.getRelations(),T=c.db.getNotes();e.l.info(_),Y(i,l,n,c),I(f,l,n,c),G(_,l),$(T,l,_.length+1,f);let h;d==="sandbox"&&(h=(0,u.Ys)("#i"+n));const x=d==="sandbox"?(0,u.Ys)(h.nodes()[0].contentDocument.body):(0,u.Ys)("body"),g=x.select(`[id="${n}"]`),D=x.select("#"+n+" g");if(yield(0,M.r)(D,l,["aggregation","extension","composition","dependency","lollipop"],"classDiagram",n),e.u.insertTitle(g,"classTitleText",(N=t==null?void 0:t.titleTopMargin)!=null?N:5,c.db.getDiagramTitle()),(0,e.p)(l,g,t==null?void 0:t.diagramPadding,t==null?void 0:t.useMaxWidth),!(t!=null&&t.htmlLabels)){const W=d==="sandbox"?h.nodes()[0].contentDocument:document,V=W.querySelectorAll('[id="'+n+'"] .edgeLabel .label');for(const C of V){const K=C.getBBox(),S=W.createElementNS("http://www.w3.org/2000/svg","rect");S.setAttribute("rx",0),S.setAttribute("ry",0),S.setAttribute("width",K.width),S.setAttribute("height",K.height),C.insertBefore(S,C.firstChild)}}})};function O(a){let n;switch(a){case 0:n="aggregation";break;case 1:n="extension";break;case 2:n="composition";break;case 3:n="dependency";break;case 4:n="lollipop";break;default:n="none"}return n}const J={setConf:H,draw:F},Q={parser:m.p,db:m.d,renderer:J,styles:m.s,init:a=>{a.class||(a.class={}),a.class.arrowMarkerAbsolute=a.arrowMarkerAbsolute,m.d.clear()}}}}]);
}());